# DVC åˆå§‹åŒ–é…ç½®æ–‡æ¡£

## ğŸ“… å®Œæˆæ—¥æœŸ
- **åˆå§‹åŒ–æ—¶é—´**: 2025-11-29
- **DVC ç‰ˆæœ¬**: 3.64.0

---

## ğŸš€ åˆå§‹åŒ–æ­¥éª¤

### 1. DVC å®‰è£…
```bash
# åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£… DVC
.venv/Scripts/python.exe -m pip install dvc==3.64.0
```

**å®‰è£…ç»“æœ**: âœ… æˆåŠŸå®‰è£…ï¼Œæ‰€æœ‰ä¾èµ–åŒ…å·²é½å…¨

### 2. DVC åˆå§‹åŒ–
```bash
cd "c:\Users\hy120\Downloads\zhihullm\CASE-customer group"
.venv/Scripts/python.exe -m dvc init
```

**ç”Ÿæˆæ–‡ä»¶**:
- `.dvc/` - DVC é…ç½®ç›®å½•
- `.dvc/config` - DVC é…ç½®æ–‡ä»¶
- `.dvc/.gitignore` - DVC å†…éƒ¨å¿½ç•¥è§„åˆ™
- `.dvcignore` - DVC å¿½ç•¥æ–‡ä»¶è§„åˆ™

### 3. é…ç½®æœ¬åœ°å­˜å‚¨
```bash
# åˆ›å»ºé¡¹ç›®å†…æœ¬åœ°å­˜å‚¨ç›®å½•
mkdir -p .dvc-storage

# é…ç½® DVC è¿œç¨‹å­˜å‚¨
.venv/Scripts/python.exe -m dvc remote add -d storage .dvc-storage

# éªŒè¯é…ç½®
.venv/Scripts/python.exe -m dvc remote list
```

**è¾“å‡ºç»“æœ**:
```
storage C:\Users\hy120\Downloads\zhihullm\CASE-customer group\.dvc-storage
(default)
```

---

## ğŸ“Š æ•°æ®è¿½è¸ª

### ä» Git ç§»é™¤æ•°æ®æ–‡ä»¶
```bash
git rm --cached customer_base.csv customer_behavior_assets.csv
```

### ç”¨ DVC è¿½è¸ªæ•°æ®
```bash
.venv/Scripts/python.exe -m dvc add customer_base.csv
.venv/Scripts/python.exe -m dvc add customer_behavior_assets.csv
```

**ç”Ÿæˆæ–‡ä»¶**:
- `customer_base.csv.dvc` - å…ƒæ•°æ®æ–‡ä»¶ (105 bytes)
- `customer_behavior_assets.csv.dvc` - å…ƒæ•°æ®æ–‡ä»¶ (117 bytes)

### æ¨é€æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
```bash
.venv/Scripts/python.exe -m dvc push
```

**ç»“æœ**: 2 files pushed âœ…

---

## ğŸ’¾ æ•°æ®å­˜å‚¨ä¿¡æ¯

### å­˜å‚¨ä½ç½®
- **åŸºç¡€è·¯å¾„**: `c:\Users\hy120\Downloads\zhihullm\CASE-customer group\.dvc-storage`
- **æ•°æ®å­˜å‚¨**: `.dvc-storage/files/md5/`

### å­˜å‚¨å†…å®¹
| åŸæ–‡ä»¶å | å“ˆå¸Œå€¼ä½ç½® | å¤§å° |
|---------|-----------|------|
| customer_base.csv | `.dvc-storage/files/md5/43/dc1fc03d919018d4940e2085283df7` | 1.7MB |
| customer_behavior_assets.csv | `.dvc-storage/files/md5/cd/877d138572be0f3cf775c988cc74df` | 25MB |

**æ€»å­˜å‚¨å¤§å°**: 26.7MB âœ…

### ä¸ºä»€ä¹ˆä½¿ç”¨å“ˆå¸Œå­˜å‚¨ï¼Ÿ
DVC é‡‡ç”¨**å†…å®¹å¯»å€å­˜å‚¨**(Content-addressable storage):
- ğŸ” ç›¸åŒå†…å®¹çš„æ–‡ä»¶åªå­˜ä¸€ä»½ï¼ˆè‡ªåŠ¨å»é‡ï¼‰
- ğŸ” å¿«é€Ÿæ£€æµ‹æ–‡ä»¶æ”¹åŠ¨ï¼ˆæ¯”è¾ƒå“ˆå¸Œå€¼ï¼‰
- ğŸ“š æ”¯æŒå¤šä¸ªç‰ˆæœ¬å…±å­˜
- ğŸ›¡ï¸ æ•°æ®å®Œæ•´æ€§éªŒè¯

---

## ğŸ“ é…ç½®æ–‡ä»¶å†…å®¹

### `.dvc/config`
```ini
[core]
    remote = storage
['remote "storage"']
    url = .dvc-storage
```

### `.dvcignore`
```
# Python
__pycache__
*.pyc
.venv/

# IDE
.idea/
.vscode/
.claude/

# ä¸´æ—¶æ–‡ä»¶
*.tmp
.DS_Store
```

### `customer_base.csv.dvc`
```yaml
outs:
- md5: 43dc1fc03d919018d4940e2085283df7
  size: 1689829
  hash: md5
  path: customer_base.csv
```

### `customer_behavior_assets.csv.dvc`
```yaml
outs:
- md5: cd877d138572be0f3cf775c988cc74df
  size: 25780197
  hash: md5
  path: customer_behavior_assets.csv
```

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- âœ… DVC å·²åˆå§‹åŒ–
- âœ… æœ¬åœ°å­˜å‚¨å·²é…ç½®
- âœ… æ•°æ®æ–‡ä»¶å·²ç”¨ DVC è¿½è¸ª
- âœ… æ•°æ®å·²æ¨é€åˆ°æœ¬åœ°å­˜å‚¨
- âœ… `.gitignore` å·²è‡ªåŠ¨æ›´æ–°
- âœ… `.dvcignore` å·²åˆ›å»º

---

## ğŸ“‹ å¾…å¤„ç†ä»»åŠ¡

### ç«‹å³å¯åš
- [ ] æäº¤ DVC é…ç½®åˆ° Git
  ```bash
  git add .dvc .dvcignore .gitignore customer_*.csv.dvc requirements.txt
  git commit -m "chore: Initialize DVC with local storage"
  ```

### ä¸‹ä¸€é˜¶æ®µ (ç¬¬2-3å‘¨)
- [ ] åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„ (data/, models/, scripts/, outputs/)
- [ ] ç§»åŠ¨æ•°æ®æ–‡ä»¶åˆ° data/raw/
- [ ] åˆ›å»º params.yaml å‚æ•°é…ç½®
- [ ] åˆ›å»º dvc.yaml æµæ°´çº¿å®šä¹‰
- [ ] å®ç°ç¬¬ä¸€ä¸ªæµæ°´çº¿é˜¶æ®µ (æ•°æ®éªŒè¯)

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹ DVC çŠ¶æ€
.venv/Scripts/python.exe -m dvc status

# æ¢å¤æ•°æ®æ–‡ä»¶
.venv/Scripts/python.exe -m dvc checkout

# æŸ¥çœ‹å­˜å‚¨ä¿¡æ¯
.venv/Scripts/python.exe -m dvc cache dir

# æŸ¥çœ‹è¿œç¨‹å­˜å‚¨é…ç½®
.venv/Scripts/python.exe -m dvc remote list -v

# ä¿®æ”¹è¿œç¨‹å­˜å‚¨
.venv/Scripts/python.exe -m dvc remote modify storage url <new-path>

# æŸ¥çœ‹æ•°æ®ç‰ˆæœ¬å†å²
.venv/Scripts/python.exe -m dvc dag
```

---

## ğŸ“š ç›¸å…³èµ„æº

- [DVC å®˜æ–¹æ–‡æ¡£](https://dvc.org/doc)
- [DVC å¿«é€Ÿå…¥é—¨](https://dvc.org/doc/start)
- [æœ¬åœ°å­˜å‚¨é…ç½®](https://dvc.org/doc/user-guide/data-management/remote-storage)
- [é¡¹ç›®å†…å­˜å‚¨æœ€ä½³å®è·µ](https://dvc.org/doc/user-guide/data-management)

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ–‡ä»¶ä¸å†è¢« Git è¿½è¸ª**
   - `.dvc-storage/` è‡ªåŠ¨è¢«å¿½ç•¥
   - å®é™…çš„ CSV æ–‡ä»¶è¢«å¿½ç•¥
   - åªæœ‰ `.dvc` å…ƒæ–‡ä»¶è¢« Git è¿½è¸ª

2. **æ•°æ®æ¢å¤**
   - å¦‚æœåˆ é™¤äº† CSV æ–‡ä»¶ï¼Œä½¿ç”¨ `dvc checkout` æ¢å¤
   - å­˜å‚¨åœ¨ `.dvc-storage/` ä¸­çš„æ•°æ®æ˜¯å®‰å…¨å¤‡ä»½

3. **åä½œå…±äº«**
   - å…¶ä»–æˆå‘˜åªéœ€ `git pull` å’Œ `dvc pull` å³å¯è·å–æ•°æ®
   - ä¸éœ€è¦åœ¨ Git ä¸­å­˜å‚¨ 26MB çš„äºŒè¿›åˆ¶æ–‡ä»¶

---

**âœ¨ DVC åˆå§‹åŒ–å®Œæˆï¼é¡¹ç›®å·²å‡†å¤‡å¥½è¿›å…¥æµæ°´çº¿å¼€å‘é˜¶æ®µã€‚**

ğŸ“š **ç›¸å…³æ–‡æ¡£**:
- [å¿«é€Ÿå‚è€ƒ.md](1.\ å¿«é€Ÿå‚è€ƒ.md) - å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
- [é…ç½®æ–‡ä»¶æ¸…å•.md](1.\ é…ç½®æ–‡ä»¶æ¸…å•.md) - é…ç½®æ–‡ä»¶è¯¦è§£
- [DVCå®æ–½è®¡åˆ’.md](0.\ DVCå®æ–½è®¡åˆ’.md) - å®Œæ•´çš„å®æ–½è®¡åˆ’
- [README.md](1.\ README.md) - æ–‡æ¡£å¯¼èˆª
